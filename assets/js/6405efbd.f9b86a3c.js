"use strict";(self.webpackChunkuniversalreference_io=self.webpackChunkuniversalreference_io||[]).push([[952],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>u});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},h=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),p=s(n),u=a,d=p["".concat(c,".").concat(u)]||p[u]||m[u]||o;return n?i.createElement(d,r(r({ref:t},h),{},{components:n})):i.createElement(d,r({ref:t},h))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},229:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var i=n(7462),a=(n(7294),n(3905));const o={},r="Schema",l={unversionedId:"Client/design/schema",id:"Client/design/schema",title:"Schema",description:"UOR Schema is the attribute type declaration for a UOR Collection. Schema also links application logic to importing UOR Collection. Schema can also be used for things like validating a Collection's links and attribute declarations.",source:"@site/docs/Client/design/schema.md",sourceDirName:"Client/design",slug:"/Client/design/schema",permalink:"/docs/Client/design/schema",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Client/design/schema.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Node Types",permalink:"/docs/Client/design/nodes"}},c={},s=[{value:"Schema Elements",id:"schema-elements",level:2},{value:"Attribute Type Declarations",id:"attribute-type-declarations",level:3},{value:"Algorithm Reference",id:"algorithm-reference",level:3},{value:"Common Attribute Mappings",id:"common-attribute-mappings",level:3},{value:"Default Content Declaration",id:"default-content-declaration",level:3},{value:"Design",id:"design",level:2}],h={toc:s};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"schema"},"Schema"),(0,a.kt)("p",null,"UOR Schema is the attribute type declaration for a UOR Collection. Schema also links application logic to importing UOR Collection. Schema can also be used for things like validating a Collection's links and attribute declarations."),(0,a.kt)("p",null,"This document explains UOR Schema and the relationship of a UOR Collection with its imported Schema. "),(0,a.kt)("h2",{id:"schema-elements"},"Schema Elements"),(0,a.kt)("p",null,"There are four elements within a schema:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Attribute Type Declarations"),(0,a.kt)("li",{parentName:"ol"},"Algorithm Reference"),(0,a.kt)("li",{parentName:"ol"},"Common Attribute Mappings"),(0,a.kt)("li",{parentName:"ol"},"Default Content Reference")),(0,a.kt)("h3",{id:"attribute-type-declarations"},"Attribute Type Declarations"),(0,a.kt)("p",null,"Attribute type declarations MUST reside within a manifest of the Schema Collection a JSON Schema document. Attribute type\ndeclarations MUST follow the following syntax and guidelines:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Values")," - Attribute type declarations are expression via manifest annotation. The key,value pairs are stored\nas an annotation value in a JSON dictionary."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Number (expressed at float)"),(0,a.kt)("li",{parentName:"ol"},"Integer"),(0,a.kt)("li",{parentName:"ol"},"String"),(0,a.kt)("li",{parentName:"ol"},"Boolean"),(0,a.kt)("li",{parentName:"ol"},"Null")),(0,a.kt)("h3",{id:"algorithm-reference"},"Algorithm Reference"),(0,a.kt)("p",null,'Schemas Collections MAY contain Algorithm References. A Collection\'s Algorithm Reference can be thought of as the "\napplication logic" of the Collection. The Algorithm Reference in a Schema Collection is the link to the algorithm\nimported into a calling Collection. This reference is expressed by assigning the ',(0,a.kt)("inlineCode",{parentName:"p"},"uor.algorithm=true")," attribute to the\nnode annotations of the Algorithm's Linked Collection."),(0,a.kt)("h3",{id:"common-attribute-mappings"},"Common Attribute Mappings"),(0,a.kt)("p",null,"Schema Collections MAY contain Common Attribute Mappings. The Common Attribute Mappings in a schema instruct the UOR\nClient to add preset attributes to a Collection while being built. This reference is expressed by assigning\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"uor.attribute")," key to a value with a JSON serialized dictionary with mapping information."),(0,a.kt)("h3",{id:"default-content-declaration"},"Default Content Declaration"),(0,a.kt)("p",null,"Schema Collections MAY contain a Default Content Declaration. The Default Content Declaration in a schema is referenced by an algorithm linked to a collection when the algorithm is run.\nThis Declaration is stored in the manifest configuration of the Schema Collection.  "),(0,a.kt)("h2",{id:"design"},"Design"),(0,a.kt)("p",null,"Collections import Schema via an annotated Linked Collection. A Schema Collection imports an Algorithm into the Schema's calling collection. A Collection can only have one Schema and a Schema can have only one Algorithm Reference.  "),(0,a.kt)("p",null,"When the UOR Client retrieves a Collection, it first retrieves the OCI manifest of the referenced collection. The UOR Client then searches the manifest for a reference to an imported schema. If a schema is found, the UOR client retrieves the OCI Manifest of the imported schema. The UOR Client then searches the Schema Collection's OCI Manifest for an Algorithm Reference. If an Algorithm Reference is found, The UOR Client will first check its cache and if needed, download the Referenced Algorithm for further operations. "),(0,a.kt)("p",null,"A Collection can only import a single schema. However, a Collection may link to another collection with a different schema. There are two types of schema declarations in a Collection's OCI Manifest. Those are: ",(0,a.kt)("inlineCode",{parentName:"p"},"uor.schema={{ Schema Collection address (Full URI or just the digest of the referenced Schema Collection's OCI manifest) }}")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"uor.schema.linked={{ The digest of all Schema Collection OCI Manifest References inherited through Collection links}}"),". When a collection links to another collection, all linked schemas of the Referenced Linked Collection are inherited by the linking Collection and written to the value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"uor.schema.linked")," attribute."))}m.isMDXComponent=!0}}]);